name = "todo-list-api"
main = "server.js"
compatibility_date = "2024-11-20"

# D1 Database Bindings
[[d1_databases]]
binding = "DB"
database_name = "todo-list-db"
database_id = "bb68849e-72ab-431a-8605-b8ff77c7f82d"
migrations_dir = "migrations"

# ======================================================
# PREVIEW ENVIRONMENT (for PRs)
# ======================================================
[env.preview]
name = "todo-list-api-preview"

[[env.preview.d1_databases]]
binding = "DB"
database_name = "todo-list-db"
database_id = "bb68849e-72ab-431a-8605-b8ff77c7f82d"
migrations_dir = "migrations"

# ======================================================
# PRODUCTION ENVIRONMENT (for main branch)
# ======================================================
[env.production]
name = "todo-list-api-production"

[[env.production.d1_databases]]
binding = "DB"
database_name = "todo-list-db"
database_id = "bb68849e-72ab-431a-8605-b8ff77c7f82d"
migrations_dir = "migrations"
